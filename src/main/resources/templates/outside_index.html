<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8"/>
    <title></title>
    <link rel ="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <script th:src="@{/theme.js}"></script>
    <link rel="stylesheet" th:href="@{styles.css}" />

</head>
<body>
<header th:fragment="header">
    <div id="td"> <a href="/"> Travel Diary</a></div>
    <div class="nav">
        <a class="tripsLink" href="/trips"> Trips</a>
    </div>

</header>

<div id="add">
    <a class="addTrip" href="/trips/add">Add a trip</a> <br>
    <a class="deleteTrip" href="/trips/delete">Delete a trip</a> <br>
    <a class="addTag" href="/tags/create">Create a tag</a> <br>

    <button onclick="changeTheme()">Change Theme</button>

</div>

    <main>
        <p th:unless="${tripList} and ${tripList.size()}">
            <em>There are no trips at this time. Add a trip!</em>
        </p>

        <th:block th:if="${tripList} and ${tripList.size()}">
            <form action='/trips/favorite' method="post">
                <table class ="table table-striped">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Trip</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Picture</th>
                        <th>Favorite</th>
                    </tr>
                    </thead>
                    <tr th:each="trip: ${tripList}">
                        <td th:text="${trip.id}"></td>
                        <td th:text="${trip.tripName}"></td>
                        <td th:text="${trip.city}"></td>
                        <td th:text="${trip.state}"></td>
                        <td th:text="${trip.image}"></td>
                        <td th:text="${trip.tag}"></td>
                        <td>
                            <input type="checkbox" name="tripId" th:value="${trip.id}" th:checked="${trip.favorite}" />
                        </td>
                    </tr>
                </table>
                <button type='submit'>Update Favorites</button>

            </form>
        </th:block>
    </main>
</body>
</html>