<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8"/>
    <title>Travel Diary</title>
    <link rel ="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <script th:src="@{/theme.js}"></script>
    <link rel="stylesheet" th:href="@{styles.css}"/>
</head>
<body>
<header th:replace="~{fragments :: header}"></header>
<!--    <div class="nav">-->
<!--        <a class="tripsLink" href="/trips"> Trips</a>-->
<!--    </div>-->

<!--<div id="add">-->
<!--    <a class="addTrip" href="/trips/add">Add a trip</a> <br>-->
<!--    <a class="deleteTrip" href="/trips/delete">Delete a trip</a> <br>-->
    <a class="addTag" href="/trips/add-tag">Add tags</a> <br>

    <button onclick="changeTheme()">Change Theme</button>

</div>

    <main>
<!--        <p th:unless="${tripList != null and tripList.size() > 0}">-->
<!--        <em>There are no trips at this time. Add a trip!</em>-->
<!--        </p>-->
        <th:block th:if="${tripList} and ${tripList.size()}">
            <form action='/trip/favorite' method="post">
                <table class ="table table-striped">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Trip</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Picture</th>
                        <th>Favorite</th>
                        <th>Tags</th>
                    </tr>
                    </thead>
                    <tr th:each="trip: ${tripList}">
                        <td th:text="${trip.getId}"></td>
                        <td th:text="${trip.getName}"></td>
                        <td th:text="${trip.getCity}"></td>
                        <td th:text="${trip.getState}"></td>
                        <td th:text="${trip.getImage}"></td>
                        <td th:text="${trip.getTags}"></td>

<!--                            <span th:each="tag : ${tags}" th:text="${tag.displayName} + ' '"></span>-->

<!--                        <td th:text="${trip.tags}"></td>-->
<!--                        <label for="tags">Tags</label><br>-->
<!--                        <input type="text" id="fname" name="fname"><br>-->

                    <td th:each="tag : ${tags}"
                     th:text="${tag.displayName}"></td>
                        <td>
                            <input type="checkbox" name="tripId" th:value="${trip.getId}" th:checked="${trip.favorite}"/>
                        </td>
                    </tr>
                </table>
                <button type='submit'>Update Favorites</button>
<!--                <button type='submit'>Create Tags</button>-->
<!--                <a th:ref = "/trips/add-tag">Add Tag</a>-->
<!--                <a th:href="'/trips/add-tag?tripId=' + ${trip.id}">Add Tag</a>-->
<!--                <a th:href="@{/trips/edit/{id}(id=${trip.id})}">Edit</a>-->
            </form>
        </th:block>
    </main>
</div>
</body>
</html>